{"version":3,"sources":["big.png","app-theme.ts","layouts/simple.styles.ts","layouts/simple.tsx","comnponents/no-camera.tsx","api/portrait.tsx","comnponents/portrait.tsx","comnponents/main.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","theme","colorPrimary","colorGreen","colorBlue","colorCyan","colorRed","colorYellow","logsGray","logsBlack","palette","createUseStyles","require","mainLayout","height","position","display","flexDirection","alignItems","justifyContent","fontSize","width","flexGrow","color","backgroundColor","overflowY","SimpleLayout","mainElement","styles","useStyles","Navbar","bg","variant","Brand","href","src","logo","className","alt","HalfColsLayoutThemeWrapper","props","NoCamera","style","getAnniversaryComponent","scale","BASE_URL","left","top","transform","VideoInput","webcam","interval","componentWillMount","a","setInputDevice","navigator","mediaDevices","enumerateDevices","then","devices","filter","device","kind","length","setState","facingMode","startCapture","setInterval","capture","console","log","React","createRef","state","balloon","leftBear","flowers","anniversary","ibagem","tomato","clearInterval","this","current","canvas","getCanvas","context","getContext","data","baseImage","Image","image","x","y","wdith","getAnniversaryImage","drawImage","window","open","toDataURL","gh","document","createElement","download","click","panelName","flowerPositions","map","e","getFlowersComponent","videoConstraints","audio","ref","mirrored","screenshotFormat","ButtonGroup","Button","size","onClick","addPanel","Component","Main","useState","camOn","setCam","setRadioValue","toggle","ToggleButton","key","type","name","value","checked","App","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.51b8dca6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/big.6f377308.png\";","const theme = {\n  colorPrimary: '#011f43',\n\n  colorGreen: \"#5CB85C\",\n  colorBlue: \"#1C7CD5\",\n  colorCyan: \"#56C0E0\",\n  colorRed: \"#D9534F\",\n  colorYellow: \"#FFC108\",\n  logsGray: \"#2B2B2B\",\n  logsBlack: \"#191919\",\n\n  palette: [\n    //Grayscale\n    // \"white\",\n    \"#DDDDDD\",\n    \"#777777\",\n    \"#55595C\",\n    \"#373A3C\",\n  ]\n}\n\nexport type ITheme = typeof theme;\n\nexport default theme;","import { ITheme } from \"../app-theme\";\n\nconst { createUseStyles } = require('react-jss');\n\nexport default createUseStyles((theme: ITheme) => {\n  return {\n    mainLayout: {\n      \n      height: \"100vh\",\n      position: \"relative\",\n      display: \"flex\",\n      flexDirection: \"row\",\n\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      fontSize: \"12pt\",\n      // color: \"white\",      \n\n      \"& > .simple-column\": {\n        \n        width: \"100%\",\n        height: \"100%\",\n        flexGrow: 1,\n        color: theme.palette[4],\n        backgroundColor: theme.palette[0],\n        // padding: \"100px 100px 50px 50px\",\n        overflowY: \"scroll\"\n      }      \n    }\n  }\n})","import React from 'react';\n\nimport { ThemeProvider } from 'react-jss';\nimport theme from '../app-theme';\n\nimport useStyles from './simple.styles';\nimport Navbar from 'react-bootstrap/Navbar';\n\n// import {NavDropdown, Nav} from \"react-bootstrap/\";\n// import bear from \"../resources/bear.png\"\n// import reactLogo from \"../logo.svg\"\nimport logo from \"../big.png\"\n\nimport \"../App.css\"\n\nexport interface Props {\n    mainElement: React.ReactElement;    \n}\n\nconst HalfColsLayoutThemeWrapper: React.FC<Props> = props =>\n  <ThemeProvider theme={ theme }>\n    <SimpleLayout { ...props } />\n    </ThemeProvider>\n\nconst SimpleLayout: React.FC<Props> = ({ mainElement }) => {\n  const styles = useStyles();\n\n  return (\n    <>\n      {/* <Navbar fixed=\"top\" bg=\"dark\" variant=\"dark\" style = {{ height: '84px' }}> */}\n      {/* <Navbar>\n        <Navbar.Brand>\n          <img          \n            src={bear}\n            height = \"70px\"\n            className= \"d-inline-block align-top App-logo\"            \n            alt = \"kumar-logo\"\n          />\n        </Navbar.Brand>         */}\n        {/* <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Navbar.Text>\n          ようこそ！熊AR\n          </Navbar.Text>                    \n        </Navbar.Collapse> */}\n      {/* </Navbar> */}\n      <Navbar bg=\"dark\" variant=\"dark\">\n        <Navbar.Brand href=\"#home\">\n          <img\n            src={logo}\n            width=\"40\"\n            height=\"40\"\n            className=\"d-inline-block align-top\"\n            alt=\"React Bootstrap logo\"\n          />くまモン１０年週\n        </Navbar.Brand>\n      </Navbar>\n      <div className = { styles.mainLayout } >        \n        <div className = \"simple-column\" >\n          { mainElement }\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default HalfColsLayoutThemeWrapper;","import React from \"react\"\n\nfunction NoCamera() {\n  return <div\n    style={{\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    }}\n  >\n    <img\n      src={\"https://cdn.pixabay.com/photo/2017/02/12/21/29/false-2061132_960_720.png\"}      \n      className=\"d-inline-block align-top\"\n      height={50}\n      alt=\"camera-logo\"\n    />\n    <span>カメラ信号を受信できませんでした</span>\n  </div>\n}\n\nexport default NoCamera","import React from 'react';\n\nconst BASE_URL = process.env.PUBLIC_URL + '/kumamon';\n\ninterface IComponentFunction {\n  (width: number, height: number): any\n}\n\nexport const getRandomStamp = () => {\n  \n  const stamps: string[] = [];\n\n  const ten_years = '10_years_logo.png';\n\n  stamps.push(ten_years);\n\n  const index = Math.floor(stamps.length * Math.random())\n\n  return BASE_URL+\"/\"+stamps[index];\n}\n\nexport const getRandomComponent = (width: number, height: number) => {\n  const components: IComponentFunction[] = []\n  components.push(getAnniversaryComponent)\n\n  const index = Math.floor(components.length * Math.random())\n\n  return components[index](width,height)\n}\n\nexport const getAnniversaryImage = (width:number, height: number) => {\n  const ten_years = '10_years_logo.png';\n  const source = BASE_URL + \"/\" + ten_years;\n  const sourceWidth = 420;\n  const sourceHeight = 283;\n  const scale = (width / sourceWidth) * 0.4\n  const baseImage = new Image();\n  baseImage.src = 'img/base.png';\n  return {\n    image: baseImage,\n    x: (-height * 0.4),\n    y: (width - (width / 2) - 10),\n    wdith:sourceWidth*scale,\n    height: sourceHeight*scale\n  }\n}\n\nexport const getAnniversaryComponent = (width:number, height: number) => {\n  const ten_years = '10_years_logo.png';\n  const source = BASE_URL+\"/\"+ten_years;\n  const sourceWidth = 420;\n  const sourceHeight = 283;\n  const scale = (width / sourceWidth)*0.4\n  return (<div>\n    <img\n      src={source}\n      style = {{\n        position: 'absolute',\n        left:`${width-(width/2)-25}px`,\n        top: `${-height *0.4}px`,\n        transform: `scale(${scale})`\n      }}\n    />\n  </div>)\n}\n\nexport const getBalloonComponent = (width: number, height: number) => {\n  const imagem = 'balloon.png';\n  const source = BASE_URL + \"/\" + imagem;\n  const sourceWidth = 420;\n  const sourceHeight = 283;\n  const scale = (width / sourceWidth) * 0.4\n  return (<div>\n    <img\n      src={source}\n      style={{\n        position: 'absolute',\n        left: `${-width-260}px`,\n        top: `${(-2*height)*0.95}px`,\n        transform: `scale(${0.1})`\n      }}\n    />\n  </div>)\n}\n\nexport const getLeftBearComponent = (width: number, height: number) => {\n  const imagem = 'left_bear.png';\n  const source = BASE_URL + \"/\" + imagem;\n  const sourceWidth = 420;\n  const sourceHeight = 283;\n  const scale = (width / sourceWidth) * 0.4\n  return (<div>\n    <img\n      src={source}\n      style={{\n        position: 'absolute',\n        left: `${-50}px`,\n        // top: `${-height * 0.6}px`,\n        // transform: `scale(${scale})`\n      }}\n    />\n  </div>)\n}\n\nexport const getTomatoBearComponent = (width: number, height: number) => {\n  const imagem = 'tomato.png';\n  const source = BASE_URL + \"/\" + imagem;\n  const sourceWidth = 420;\n  const sourceHeight = 283;\n  const scale = (width / sourceWidth) * 0.4\n  return (<div>\n    <img\n      src={source}\n      style={{\n        position: 'absolute',\n        left: `${-80}px`,\n        top: `${130}px`,\n        transform: `scale(${0.5})`\n      }}\n    />\n  </div>)  \n}\n\nexport const getFlowersComponent = (width: number, height: number) => {\n  const imagem = 'flowers.png';\n  const source = BASE_URL + \"/\" + imagem;\n  const sourceWidth = 420;\n  const sourceHeight = 283;\n  const scale = (width / sourceWidth) * 0.4\n  const compensation = -20\n\n  const flowerPositions = [\n    { top: height - (height * 0.8), left: width - (width / 2) +compensation, scale },\n    { top: height - (height * 0.8) + 100, left: width - (width / 2) -20 + compensation, scale: scale *2},\n    { top: height - (height * 0.8) + 100, left: width - (width / 2) - 90 + compensation, scale },\n    { top: height - (height * 0.8) + 100, left: width - (width / 2) - 180 + compensation, scale: scale*0.4 },\n    { top: height - (height * 0.8) - 80, left: width - (width / 2) - 10 + compensation, scale: scale*1.5 },\n    { top: height - (height * 0.8) - 160, left: width - (width / 2) - 20 + compensation, scale: scale*0.7 },\n  ]\n  return (<div>\n    {flowerPositions.map(e => {\n      return <img\n        src={source}\n        style={{\n          position: 'absolute',\n          left: `${e.left}px`,\n          top: `${e.top}px`,\n          transform: `scale(${e.scale})`\n        }}\n      />\n    })}\n    \n  </div>)\n}\n","import React, { Component } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Webcam from 'react-webcam';\nimport { getFlowersComponent, getAnniversaryComponent, getLeftBearComponent, getBalloonComponent, getAnniversaryImage, getTomatoBearComponent } from '../api/portrait';\n\nconst WIDTH = 320;\n// const WIDTH = 420;\nconst HEIGHT = 420;\nconst inputSize = 160;\n\ninterface IVideoInputState {\n  balloon: any;\n  leftBear: any;\n  flowers: any;\n  anniversary: any;\n  facingMode: any;\n  ibagem: any;\n  tomato: any;\n}\n\n\nclass VideoInput extends Component<{}, IVideoInputState> {\n  webcam: React.RefObject<Webcam>;\n  interval: NodeJS.Timeout;\n  //   webcam: Webcam;\n  constructor(props: any) {\n    super(props);\n    this.interval = setInterval(() => { }, 1500);\n    this.webcam = React.createRef<Webcam>();\n    this.state = {\n      balloon: null,\n      leftBear: null,\n      flowers: null,\n      anniversary: null,\n      facingMode: '',\n      ibagem: null,\n      tomato: null\n    };\n  }\n\n  componentWillMount = async () => {        \n    this.setInputDevice();\n  };\n\n  setInputDevice = () => {\n    navigator.mediaDevices.enumerateDevices().then(async devices => {\n      let inputDevice = await devices.filter(\n        device => device.kind === 'videoinput'\n      );\n      if (inputDevice.length < 2) {\n        this.setState({facingMode:'user'})\n      //   await this.setState({\n      //     facingMode: 'user'\n      //   });\n      // } else {\n      //   await this.setState({\n      //     facingMode: { exact: 'environment' }\n      //   });\n      }\n      this.startCapture();\n    });\n  };\n\n  startCapture = () => {\n    this.interval = setInterval(() => {\n      this.capture();\n    }, 1500);\n  };\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  capture = async () => {\n    console.log(\"Capturing nothing!\");    \n  };\n\n  saveImage() {\n    if(!this.webcam.current) {\n      console.log(\"Webcam REF problem\");\n      return;\n    }\n    const canvas = this.webcam.current.getCanvas();\n\n\n    if(!canvas) {\n      console.log(\"Canvas problem\");\n      return;\n    }\n\n    const context = canvas.getContext('2d');    \n\n    if (!context) {\n      console.log(\"Context problem\");\n      return;\n    }    \n\n\n    if(this.state.anniversary != null) {\n      console.log(\"ADDING image to context\")\n      let data = getAnniversaryImage(WIDTH, HEIGHT);            \n      context.drawImage(data.image, 0, 0);      \n    }\n    \n    \n    window.open(canvas.toDataURL('image/png'));\n    var gh = canvas.toDataURL('png');\n\n    var a = document.createElement('a');\n    a.href = gh;\n    a.download = 'image.png';\n\n    a.click()\n}\n\n  addPanel(panelName:string) {\n\n    let ibagem = null;\n    switch(panelName) {\n      case \"kumamon\":\n        if (!this.state.anniversary) {\n          let anniversary = getAnniversaryComponent(WIDTH, HEIGHT);\n          this.setState({ anniversary });\n        } else {\n          this.setState({anniversary: null})\n        }        \n        break;\n\n      case \"flowers\":\n        if (!this.state.flowers) {\n          let flowers = getFlowersComponent(WIDTH, HEIGHT);\n          this.setState({ flowers });\n        } else {\n          this.setState({ flowers: null })\n        }        \n        break;\n\n      case 'left-bear':\n        if (!this.state.leftBear) {\n          let leftBear = getLeftBearComponent(WIDTH, HEIGHT);\n          this.setState({ leftBear });\n        } else {\n          this.setState({ leftBear: null })\n        }        \n        break;\n      case 'balloon':\n        if (!this.state.balloon) {\n          let balloon = getBalloonComponent(WIDTH, HEIGHT);\n          this.setState({ balloon });\n        } else {\n          this.setState({ balloon: null })\n        }        \n        break;\n      case 'tomato':\n        if (!this.state.tomato) {\n          let tomato = getTomatoBearComponent(WIDTH, HEIGHT);\n          this.setState({ tomato });\n        } else {\n          this.setState({ tomato: null })\n        }\n        break;\n    }\n\n    \n  \n  }\n\n  render() {\n    const {  facingMode, ibagem, balloon, anniversary, flowers, leftBear, tomato } = this.state;\n    let videoConstraints = null;\n    let camera = '';\n    if (!!facingMode) {\n      videoConstraints = {\n        width: WIDTH,\n        height: HEIGHT,\n        facingMode: facingMode\n      };\n      if (facingMode === 'user') {\n        camera = 'Front';\n      } else {\n        camera = 'Back';\n      }\n    }    \n\n    return (\n      <div>\n      <div\n        className=\"Camera\"\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center'\n        }}\n      >\n        {/* <p>Camera: {camera}</p> */}\n        <div\n          style={{\n            width: WIDTH,\n            height: HEIGHT\n          }}\n        >\n          <div style={{ position: 'relative', width: WIDTH }}>\n            {!!videoConstraints ? (              \n              <div style={{ position: 'absolute' }}>\n                <Webcam\n                  audio={false}\n                  width={WIDTH}\n                  height={HEIGHT}\n                  ref={this.webcam as any}\n                  mirrored={true}\n                  screenshotFormat=\"image/jpeg\"\n                  videoConstraints={videoConstraints}\n                />\n                \n              </div>\n              \n            ) : null}            \n            {/* {!!drawBox ? drawBox : null} */}\n              {!!ibagem ? ibagem : null}\n              {!!balloon ? balloon : null}\n              {!!anniversary ? anniversary : null}\n              {!!flowers ? flowers : null}\n              {!!leftBear ? leftBear : null}    \n              {!!tomato ? tomato : null}              \n          </div>\n          \n        </div>\n      </div>      \n      <div\n          className=\"Filters\"\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center'\n          }}>\n        <label>フィルター選択</label>\n        <ButtonGroup>\n            <Button variant={anniversary!=null?\"secondary\":\"info\"} size=\"sm\" onClick={() => this.addPanel(\"kumamon\")}>誕生日</Button>{' '}\n            <Button variant={flowers != null ? \"secondary\" : \"danger\"} size=\"sm\" onClick={() => this.addPanel(\"flowers\")}>花</Button>{' '}\n            <Button variant={leftBear != null ? \"secondary\" : \"info\"} size=\"sm\" onClick={() => this.addPanel(\"left-bear\")}>左くまモン</Button>{' '}\n            <Button variant={balloon != null ? \"secondary\" : \"danger\"} size=\"sm\" onClick={() => this.addPanel(\"balloon\")}>風船</Button>{' '}\n            <Button variant={tomato != null ? \"secondary\" : \"info\"} size=\"sm\" onClick={() => this.addPanel(\"tomato\")}>トマト</Button>{' '}\n          </ButtonGroup>\n      </div>\n        {/* <Button onClick={() => this.saveImage()}>SaveImage</Button> */}\n      </div>\n    );\n  }\n}\n\nexport default VideoInput;","import React, { useState } from 'react';\n\nimport ToggleButton from 'react-bootstrap/ToggleButton'\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\"\nimport NoCamera from \"./no-camera\";\n// import FaceDetectionComponent from \"./face\";\nimport PortraitComponent from \"./portrait\";\n\nfunction Main() {  \n\n  const [camOn, setCam] = useState<boolean>(true);\n\n  const setRadioValue = (e: boolean) => {\n    setCam(e);\n  }\n\n  return <div\n    style={{      \n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    }}\n    >\n    {/* {camOn ? <Camera/> : <NoCamera/>} */}\n    {/* {camOn ? <PoseComponent /> : <NoCamera />} */}\n    {/* {camOn ? <FaceDetectionComponent /> : <NoCamera />} */}\n    {camOn ? <PortraitComponent /> : <NoCamera />}\n    <br/>\n    <label>カメラ</label>\n    <ButtonGroup toggle>\n      <ToggleButton\n        key={\"0\"}\n        type=\"radio\"\n        variant=\"secondary\"\n        name=\"radio\"\n        value={\"ON\"}\n        checked={camOn}\n        onClick={(e) => setRadioValue(true)}\n      >オン\n        </ToggleButton>\n      <ToggleButton\n        key={\"1\"}\n        type=\"radio\"\n        variant=\"secondary\"\n        name=\"radio\"\n        value={\"OFF\"}\n        checked={!camOn}\n        onClick={(e) => setRadioValue(false)}\n      >オフ\n        </ToggleButton>\n    </ButtonGroup>\n    \n  </div>\n}\n\nexport default Main;\n","import React from 'react';\nimport './App.css';\nimport HalfLayout from \"./layouts/half\"\nimport SimpleLayout from \"./layouts/simple\";\nimport MainComponent from \"./comnponents/main\"\n\nfunction App() {\n  // return <HalfLayout leftColumn={<div />} rightColumn={<MainComponent/>} />  \n  return <SimpleLayout mainElement={<MainComponent/>} />  \n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}